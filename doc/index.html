<HTML><head>
<title> 6502 Cross-Assembler "xa" </title>
</head><body bgcolor="#ffffff">
<h1 align=center> 6502 Cross-Assembler "xa"</h1>
<h3 align=center>Info: Andre Fachat, 
<a href="../mailto.html">
[mail]</a><a href="../../index.html">[Homepage]</a></h3>
<hr>
This is Copyright A.Fachat (1989-1997), for distributing use 
<a href="../COPYING">GNU Public License</a><hr>
<h1 align=center> Version 2.1.4</h1>
I have revised my cross assembler to produce a 
<a href="fileformat.html"><strong>6502 relocatable binary format</strong></a>.

Here is the new assembler version, with support for the "o65" file format:
<a href="xa-2.1.4.tar.gz">xa-2.1.4.tar.gz</a>. There also is a 
<a href="xa.html">README</a> for it. Since version 2.1.2, there is a 
<strong>linker</strong>
for the 'o65' file format and other file utilities included.<p>
<h4> What's new with 2.1.4? </h4>
2.1.4 is a minor improvement of 2.1.3 and it has some more convenient
command line options. The preprocessor understands continuation lines now,
and output files are removed when an error occurs (this is better for
<tt>make</tt>.<p>
New with 2.1.3 is a new feature of the fileformat: <b>aligned segments</b>.
Segments can be aligned to 2, 4, or 256 byte address boundary. 
A new pseudo-opcode has been introduced, ".align", that aligns
the address in the current segment to the value given.
".align 4" aligns the segment address to a 4-byte boundary. <p>
Also the pseudo-opcodes ".data", ".bss", ".zero" and ".text" to switch
segments can now be used in absolute mode, i.e. when started without
relocation. They work as they do in relative mode, but the data segment
is discarded (this might change in the future, but currently it doesn't
work) and no relocation tables or label tables and no o65 file
header are written.
Advantages are that you can use the same code base for relative and
absolute mode programs, and you don't have to manage the variable
space yourself.
<h4> Description </h4>
xa65 is a cross assembler for 6502 computers. It supports the standard
6502 opcode list, as well as the Rockwell R65C02 CMOS opcodes.
It has a 
<font color="#ff0000">C-alike preprocessor</font> and supports 
label-hiding in a <font color="#ff0000">block structure</font>.
It produces plain binary files, as well as special 
<font color="#ff0000">o65</font> object files. 
Further tools include a <font color="#ff0000">linker</font>,
<font color="#ff0000">file</font> and <font color="#ff0000">relocation</font>
utilities for o65 files.
<h4>History</h4>
I developed the first version of xa in 1990 on my old Atari ST to build 
programms for my selfbuilt computer <a href="../../csa/index.html">CS/A65</a>
After my Atari broke I ported it to Linux (ported?
It compiled right out of the box!) and when I had to develop a programm for
a friend of mine, I compiled it on an Amiga without errors. 
Until the beginning of 1992 I made more improvements, until it came
to version 2.0.7. Since then I only very occasionally worked on it,
up to version 2.0.7d.
When I decided to push my selfbuilt OS to a new level in 1996, I needed more
important improvements, like o65 object format and a linker and all
that.
<h4>Compilation and Porting</h4>
To compile, use the GNU C compiler gcc. Other compiler my warn about
mixing K&R with ANSI style and the cr/lf line endings, instead of
pure '\n', which is a single lf.
<p>
I have not (yet) tried to compile it under DOS, but I had success reports
from people who built it under the
<a href="http://www.delorie.com/djgpp/doc/ug/">DJGPP</a> compiler and
DOS extender.
(int needs to be 32 bit! The file utilities need the 'stat' library
call to get the size of a file).</p>
<p>

</p>
<p> A small manual is in the archive, but you can also read it in
<a href="xa.txt">xa.txt</a>. </p>
<p> Some of the features are:
<ul> 
<li> C-like Preprocessor to make macros
<li> label "hiding" on different levels, i.e. multiple use of the same label
possible
<li> 1.5-pass assembler: Everything that can be derefenced is being assembled
in pass 1 and saved in memory. The second pass does the rest. This 
(together with hashing etc) gives
quite a good speed (30kByte binary out of 300kByte source in less than 
two minutes on an 8MHz Atari ST - hey, the first versions would have taken
half an hour for this job! - my 486DX4/100 with linux needs around two seconds 
or so...)
<li> needs no linker - all stuff is in source code (with this speed, it's ok)
<li> (optional) support for relocatable 'o65' file format, including linker,
relocator and file utility. A loader in 6502 assembly code is also included.
<li> reads DOS and Unix(tm) files (LF or CR+LF)
</ul>
<a href="xa-2.0.7d.tar.gz">xa-2.0.7d.tar.gz</a> is the last public version 
before the actual one and still available from this site.
<h4> Log:</h4>
<ul>
<p><li> 2.1.4: preprocessor understands continuation lines, more
command line options available.
<p><li> 2.1.3: aligned segments are introduced. Also different counters
for zero, data, and bss segments are now available in absolute mode.
<p><li> 2.1.2a: linker, relocator and file utility for 'o65' format included,
some bugs fixed.
<p><li> 2.1.1e: started supporting the 'o65' file format
<p><li> 2.0.7d now understands the #undef preprocessor directive.
<p><li> With 2.0.7c, the include statements can now contain '\' or '/'
as directory separator, and both are accepted (with DIRCHAR='/').
</ul><p><hr>
Last modified 11 sep 1997 by A. Fachat<br>
This page has been read approx. 
<img width=56 height=16 src="/cgi-bin/counter/~fachat/xa/index.html" 
alt="[Can't display counter!]"> times since nov 8th, 1996.
</body>
</HTML>
